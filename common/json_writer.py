
class JSONWriter:

    def __init__(self, alerts, row_parser):
        self.alerts = alerts
        self.row_parser = row_parser

    def parse_alerts(self, vendor, url,product, webpage_name):
        collection = list()
        alerts_list = self.alerts
        failed_count = 0
        skipped_count = 0
        for alert in alerts_list:
            row = self.row_parser.parse(
                alert, vendor, url,product, webpage_name)
            if row == "Skipped":
                skipped_count += 1
                break
            elif row is not None: 
                collection.append(row)
            else:
                failed_count += 1
        return (collection, failed_count, skipped_count)

    